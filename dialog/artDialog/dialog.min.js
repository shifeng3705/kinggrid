!function(){var s={},u=!1;function t(t,e){s[t]=e}window.JSON&&(u='{"x":"中"}'!==window.JSON.stringify({x:"中"})),t("jquery",function(){return jQuery}),t("popup",function(t){var m=t("jquery"),s=!("minWidth"in m("html")[0].style),o=!s;function n(){this.destroyed=!1,this.__popup=m("<div />").css({display:"none",position:"absolute",outline:0}).attr("tabindex","-1").html(this.innerHTML).appendTo("body"),this.__backdrop=this.__mask=m("<div />").css({opacity:.7,background:"#000"}),this.node=this.__popup[0],this.backdrop=this.__backdrop[0],0}return m.extend(n.prototype,{node:null,backdrop:null,fixed:!1,destroyed:!0,open:!1,returnValue:"",autofocus:!0,align:"bottom left",innerHTML:"",className:"ui-popup",show:function(t){if(this.destroyed)return this;var e=this.__popup,i=this.__backdrop;return this.__activeElement=this.__getActive(),this.open=!0,this.follow=t||this.follow,this.__ready||(e.addClass(this.className).attr("role",this.modal?"alertdialog":"dialog").css("position","fixed"),s||m(window).on("resize",m.proxy(this.reset,this)),this.modal&&(t={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",zIndex:this.zIndex||n.zIndex},e.addClass(this.className+"-modal"),o||m.extend(t,{position:"absolute",width:m(window).width()+"px",height:m(document).height()+"px"}),i.css(t).attr({tabindex:"0"}).on("focus",m.proxy(this.focus,this)),this.__mask=i.clone(!0).attr("style","").insertAfter(e),i.addClass(this.className+"-backdrop").insertBefore(e),this.__ready=!0),e.html()||e.html(this.innerHTML)),e.addClass(this.className+"-show").show(),i.show(),this.reset().focus(),this.__dispatchEvent("show"),this},showModal:function(){return this.modal=!0,this.show.apply(this,arguments)},close:function(t){return!this.destroyed&&this.open&&(void 0!==t&&(this.returnValue=t),this.__popup.hide().removeClass(this.className+"-show"),this.__backdrop.hide(),this.open=!1,this.blur(),this.__dispatchEvent("close")),this},remove:function(){if(this.destroyed)return this;for(var t in this.__dispatchEvent("beforeremove"),n.current===this&&(n.current=null),this.__popup.remove(),this.__backdrop.remove(),this.__mask.remove(),s||m(window).off("resize",this.reset),this.__dispatchEvent("remove"),this)delete this[t];return this},reset:function(){var t=this.follow;return t?this.__follow(t):this.__center(),this.__dispatchEvent("reset"),this},focus:function(){var t=this.node,e=this.__popup,i=n.current,s=this.zIndex=n.zIndex++;return i&&i!==this&&i.blur(!1),m.contains(t,this.__getActive())||(i=e.find("[autofocus]")[0],!this._autofocus&&i?this._autofocus=!0:i=t,this.__focus(i)),e.css("zIndex",s),n.current=this,e.addClass(this.className+"-focus"),this.__dispatchEvent("focus"),this},blur:function(){var t=this.__activeElement;return!1!==arguments[0]&&this.__focus(t),this._autofocus=!1,this.__popup.removeClass(this.className+"-focus"),this.__dispatchEvent("blur"),this},addEventListener:function(t,e){return this.__getEventListener(t).push(e),this},removeEventListener:function(t,e){for(var i=this.__getEventListener(t),s=0;s<i.length;s++)e===i[s]&&i.splice(s--,1);return this},__getEventListener:function(t){var e=this.__listener;return(e=e||(this.__listener={}))[t]||(e[t]=[]),e[t]},__dispatchEvent:function(t){var e=this.__getEventListener(t);this["on"+t]&&this["on"+t]();for(var i=0;i<e.length;i++)e[i].call(this)},__focus:function(t){try{this.autofocus&&!/^iframe$/i.test(t.nodeName)&&t.focus()}catch(t){}},__getActive:function(){try{var t=document.activeElement,e=t.contentDocument;return e&&e.activeElement||t}catch(t){}},__center:function(){this.__popup[0].style.left="0px";var t=this.__popup,e=m(window),i=m(document),s=this.fixed,s=(s||i.scrollLeft(),s||i.scrollTop(),e.width()),i=e.height(),e=t.width(),i=(i-t.height())/2,t=t[0].style;t.left=(s-e)/2+"px",t.top=i+"px"},__follow:function(t){var e=t.parentNode&&m(t),i=this.__popup;if(this.__followSkin&&i.removeClass(this.__followSkin),e){var s=e.offset();if(s.left*s.top<0)return this.__center()}var s=this.fixed,o=m(window),n=m(document),a=o.width(),o=o.height(),r=n.scrollLeft(),n=n.scrollTop(),c=i.width(),l=i.height(),d=e?e.outerWidth():0,h=e?e.outerHeight():0,t=this.__offset(t),u=t.left,t=t.top,u=s?u-r:u,t=s?t-n:t,r=s?0:r,s=s?0:n,n=r+a-c,a=s+o-l,o={},p=this.align.split(" "),f=this.className+"-",_={top:"bottom",bottom:"top",left:"right",right:"left"},v={top:"top",bottom:"top",left:"left",right:"left"},g=[{top:t-l,bottom:t+h,left:u-c,right:u+d},{top:t,bottom:t-l+h,left:u,right:u-c+d}],u={left:u+d/2-c/2,top:t+h/2-l/2},b={left:[r,n],top:[s,a]};m.each(p,function(t,e){g[t][e]>b[v[e]][1]&&(e=p[t]=_[e]),g[t][e]<b[v[e]][0]&&(p[t]=_[e])}),p[1]||(v[p[1]]="left"===v[p[0]]?"top":"left",g[1][p[1]]=u[v[p[1]]]),f+=p.join("-")+" "+this.className+"-follow",this.__followSkin=f,e&&i.addClass(f),o[v[p[0]]]=parseInt(g[0][p[0]]),o[v[p[1]]]=parseInt(g[1][p[1]]),i.css(o)},__offset:function(t){var e=t.parentNode,i=e?m(t).offset():{left:t.pageX,top:t.pageY},e=(t=e?t:t.target).ownerDocument,t=e.defaultView||e.parentWindow;if(t==window)return i;var t=t.frameElement,e=m(e),s=e.scrollLeft(),e=e.scrollTop(),t=m(t).offset(),o=t.left,t=t.top;return{left:i.left+o-s,top:i.top+t-e}}}),n.zIndex=1024,n.current=null,n}),t("dialog-config",{backdropBackground:"#000",backdropOpacity:.7,content:'<span class="ui-dialog-loading">Loading..</span>',title:"",statusbar:"",button:null,ok:null,cancel:null,okValue:"ok",cancelValue:"cancel",cancelDisplay:!0,width:"",height:"",padding:"",skin:"",quickClose:!1,cssUri:"../css/ui-dialog.css",innerHTML:'<div i="dialog" class="ui-dialog"><div class="ui-dialog-arrow-a"></div><div class="ui-dialog-arrow-b"></div><table class="ui-dialog-grid"><tr><td i="header" class="ui-dialog-header"><button i="close" class="ui-dialog-close">&#215;</button><div i="title" class="ui-dialog-title"></div></td></tr><tr><td i="body" class="ui-dialog-body"><div i="content" class="ui-dialog-content"></div></td></tr><tr><td i="footer" class="ui-dialog-footer"><div i="statusbar" class="ui-dialog-statusbar"></div><div i="checkInput" class="ui-dialog-checkInput"></div><div i="button" class="ui-dialog-button"></div></td></tr></table></div>'}),t("dialog",function(t){function n(t,e,i){var s=t=t||{},s=("string"!=typeof t&&1!==t.nodeType||(t={content:t,fixed:!d}),(t=r.extend(!0,{},n.defaults,t)).original=s,t.id=t.id||l+c),o=n.get(s);return o?o.focus():(h||(t.fixed=!1),t.quickClose&&(t.modal=!0,t.backdropOpacity=0),r.isArray(t.button)||(t.button=[]),void 0!==i&&(t.cancel=i),t.cancel&&t.button.push({id:"cancel",value:t.cancelValue,callback:t.cancel,display:t.cancelDisplay}),void 0!==e&&(t.ok=e),t.ok&&t.button.push({id:"ok",value:t.okValue,callback:t.ok,autofocus:!0}),n.list[s]=new n.create(t))}function e(){}var r=t("jquery"),a=t("popup"),i=t("dialog-config"),s=i.cssUri,c=(!s||(t=t[t.toUrl?"toUrl":"resolve"])&&(s='<link rel="stylesheet" href="'+t(s)+'" />',r("base")[0]?r("base").before(s):r("head").append(s)),0),l=+new Date,t=!("minWidth"in r("html")[0].style),d="createTouch"in document&&!("onmousemove"in document)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent),h=!t&&!d,s=(e.prototype=a.prototype,n.prototype=new e);return(n.create=function(t){var o=this,e=(r.extend(this,new a),t.original,r(this.node).html(t.innerHTML)),i=r(this.backdrop);return this.options=t,this._popup=e,this.fixed=!0,r.each(t,function(t,e){"function"==typeof o[t]?o[t](e):o[t]=e}),t.zIndex&&(a.zIndex=t.zIndex),e.attr({"aria-labelledby":this._$("title").attr("id","title:"+this.id).attr("id"),"aria-describedby":this._$("content").attr("id","content:"+this.id).attr("id")}),this._$("close").css("display",!1===this.cancel?"none":"").attr("title",this.cancelValue).on("click",function(t){o._trigger("cancel"),t.preventDefault()}),this._$("dialog").addClass(this.skin),this._$("body").css("padding",this.padding),t.quickClose&&i.on("onmousedown"in document?"mousedown":"click",function(){return o._trigger("cancel"),!1}),this.addEventListener("show",function(){i.css({opacity:0,background:t.backdropBackground}).animate({opacity:t.backdropOpacity},150)}),this._esc=function(t){var e=t.target,i=e.nodeName,s=a.current===o,t=t.keyCode;!s||/^input|textarea$/i.test(i)&&"button"!==e.type||27===t&&o._trigger("cancel")},r(document).on("keydown",this._esc),this.addEventListener("remove",function(){r(document).off("keydown",this._esc),delete n.list[this.id]}),c++,n.oncreate(this),this}).prototype=s,r.extend(s,{content:function(t){var e=this._$("content");return"object"==typeof t?(t=r(t),e.empty("").append(t.show()),this.addEventListener("beforeremove",function(){r("body").append(t.hide())})):e.html(t),this.reset()},title:function(t){return this._$("title").text(t),this._$("header")[t?"show":"hide"](),this},width:function(t){return this._$("content").css("width",t),this.reset()},height:function(t){return this._$("content").css("height",t),this.reset()},button:function(t){t=t||[];var o=this,n="",a=0;return this.callbacks={},"string"==typeof t?(n=t,a++):r.each(t,function(t,e){var i=e.id=e.id||e.value,s="";o.callbacks[i]=e.callback,!1===e.display?s=' style="display:none"':a++,n+='<button type="button" i-id="'+i+'"'+("cancel"==i?' class="kg-default-btn-red" ':"")+s+(e.disabled?" disabled":"")+(e.autofocus?u?' class="ui-dialog-autofocus kg-primary-btn-red"':' autofocus class="ui-dialog-autofocus kg-primary-btn-red"':"")+">"+e.value+"</button>",o._$("button").on("click","[i-id="+i+"]",function(t){r(this).attr("disabled")||o._trigger(i),t.preventDefault()})}),this._$("button").html(n),this._$("footer")[a?"show":"hide"](),this},statusbar:function(t){return this._$("statusbar").html(t)[t?"show":"hide"](),this},_$:function(t){return this._popup.find("[i="+t+"]")},_trigger:function(t){t=this.callbacks[t];return"function"!=typeof t||!1!==t.call(this)?this.close().remove():this}}),n.oncreate=r.noop,n.getCurrent=function(){return a.current},n.get=function(t){return void 0===t?n.list:n.list[t]},n.list={},n.defaults=i,n}),window.KG_Dialog=function t(e){var e=s[e],i="exports";return"object"==typeof e?e:(e[i]||(e[i]={},e[i]=e.call(e[i],t,e[i],e)||e[i]),e[i])}("dialog")}();
//V3.0.0.572