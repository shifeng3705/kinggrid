!function(n){"function"!=typeof define||!define.amd||"undefined"!=typeof nonUseAmd&&nonUseAmd?n():"undefined"!=typeof HTMLDev&&HTMLDev?define(["./signature"],n):define(["./signature.min"],n)}((window,function(n){function a(n,e){var t;return r.ajax({type:"POST",url:n,contentType:"text/plain;charset=utf-8",data:function(n,e){var t="",e=e||"";if(c.is("Array",n))for(var a=0;a<n.length;a++)0<a&&(t+=e),t+=u(n[a],e);else t=u(n,e);return t}(e,"\r\n"),async:!1,dataType:"json",success:function(n){t=n},error:function(n){t={result:!1}}}),t}var e=window.kinggrid,i=window.Signature,r=window.jQuery,c=(kingPlus(),e.Utils),u=function(n,e){var t,a=0,i="";for(t in n){var r=n[t];if(null!=r){function u(n){0<a&&(i+=e),i+=t+"="+n,a++}if(c.is("Array",r))for(var o=0;o<r.length;o++)u(r[o]);else u(r)}}return i};c.extend(i.prototype,{_saveSignature:function(n,e,t){if(null!=n&&null!=e&&null!=t)return n=null!=i.options.cache_path&&null!=i.options.cache_path?{documentId:n,signatureId:e,signaturedata:t,cachepath:i.options.cache_path}:{documentId:n,signatureId:e,signaturedata:t,cachepath:""},a(i.options.serverUrl+"_signature_saveHtmlSignature",n)},_getSaveSignatures:function(n){var e=null!=i.options.cache_path&&null!=i.options.cache_path?{documentId:n,cachepath:i.options.cache_path}:{documentId:n,cachepath:""};if(null!=n)return(n=a(i.options.serverUrl+"_signature_getHtmlSignature",e)).result?n.sign:n},_removeSignature:function(n,e){var t=null!=i.options.cache_path&&null!=i.options.cache_path?{documentId:n,signatureId:e,cachepath:i.options.cache_path}:{documentId:n,signatureId:e,cachepath:""};if(null!=n&&null!=e)return a(i.options.serverUrl+"_signature_reomveHtmlSignature",t)}})}));
//V3.0.0.572