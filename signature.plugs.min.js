!function(s,o,l){"use strict";s.JSON&&s.JSON.stringify({x:"中"});var s=o.Utils,n=(l.options,s.extend(l.options.template,{modifyPwdBtl:'<div id="kg-dialog-modify" class="kg-dialog kg-dialog-password "><div class="kg-form"><div class="form-item clearfix"><label class="kg-sm kg-sm-3 kg-label"><%this.keysn?"密钥序列号":"用户编号"%>：</label><div class="kg-sm kg-sm-7"><p class="kg-form-static"> <%this.keysn||this.usercode%></p></div></div><div class="form-item clearfix" style="padding-bottom:7px" ><label class="kg-sm kg-sm-3 kg-label">密码：</label><div class="kg-sm kg-sm-7"> <input type="password" name="oldPwd" id="oldPwd" class="form-control"></div></div><div class="form-item clearfix" style="padding-bottom:7px" ><label class="kg-sm kg-sm-3 kg-label">新密码：</label><div class="kg-sm kg-sm-7"> <input type="password" name="newPwd" id="newPwd" class="form-control"></div></div><div class="form-item clearfix" style="padding-bottom:7px" ><label class="kg-sm kg-sm-3 kg-label">重新输入：</label><div class="kg-sm kg-sm-7"> <input type="password" name="rNewPwd" id="rNewPwd" class="form-control"></div> </div></div></div>'}),kingPlus());s.extend(l.prototype,{modifyPwdUrl:"/key/modifyPwd",modifyPwd:function(t){var r=this,s={titile:"修改密码",target:{keysn:r.keysn,usercode:r.usercode},onOk:function(){var l=this,s=l.find("#oldPwd").val(),e=l.find("#newPwd").val()||"",i=l.find("#rNewPwd").val()||"";if(e.length<6)return n.alert("新密码不能少于6位!"),!1;if(e!=i)return n.alert("两次输入的新密码不一致!"),!1;var i={keysn:r.keysn,oldPwd:s,newPwd:e,usercode:r.usercode},d=t.successCall,a=t.errorCall;return o.surry(r.serverUrl).request(r.modifyPwdUrl,i).ret(function(s){1==s.result?(l.close(),n.alert("密码修改成功!")):n.alert(s.errmsg),d.call(r,s)}).fail(function(s,l){n.alert(l),a.call(r,l)}),!1},onCancel:function(){}};return r.showDialog("modifyPwdBtl",s)}})}(this,kinggrid,Signature,jQuery);
//V3.0.0.572